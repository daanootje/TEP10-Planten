<link rel="import" href="../../../bower_components/polymer/polymer.html">
<link rel="import" href="../../../bower_components/iron-ajax/iron-ajax.html">
<link rel="import" href="../quantity-element/quantity-element.html">
<link rel="import" href="../../../bower_components/paper-datatable/paper-datatable.html">
<link rel="import" href="../../../bower_components/paper-button/paper-button.html">

<dom-module id="bestellingen-element">
  <template>

    <style>
      :host {
        display: flex;
        margin-top: 30px;
      }
    </style>

    <paper-card heading="Bestellingen van {{levnaam}}">
      <div class="card-content">
        <paper-datatable id="datatable1" data="{{bestellingen}}">
            <paper-datatable-column cell-style="color:gray;" header="Bestelnummer" property="bestelnr" sortable>
            </paper-datatable-column>
            <paper-datatable-column header="Besteldatum" property="besteldat" sortable>
            </paper-datatable-column>
            <paper-datatable-column header="Leverdatum" property="leverdat" sortable>
            </paper-datatable-column>
            <paper-datatable-column align="right" header="Bedrag" property="bedrag" sortable>
            </paper-datatable-column>
        </paper-datatable>
      </div>
    </paper-card>

  </template>

  <script>

    Polymer({
      is: 'bestellingen-element',
      properties: {
        bestellingen: {
          type: Array,
          value: []
        }
      },
      handleResponse(response) {
        this.bestellingen = response.detail.response;
      },
      goToLeveranciers() {
        this.set('route.view', 'leveranciers');
      },
      getApiUrl() {
        return leveranciersApi.getBestellingenByLevCode(this.route.routeData.id)
      }
    })

  </script>
</dom-module>
